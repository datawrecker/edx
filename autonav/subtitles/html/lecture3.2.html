<ol style="max-height: 451px;" id="transcript-captions" class="subtitles" tabindex="0" role="group" aria-label="Activating an item in this group will spool the video to the corresponding time point. To skip transcript, go to previous item."><li tabindex="-1" style="height: 196px;" class="spacing"></li><li tabindex="0" data-start="1200" data-index="0">Hello and welcome everybody to Autonomous Navigation for Flying Robots.</li><li tabindex="0" data-start="5519" data-index="1">In this video we look at sensors and of course in particular at sensors that are relevant</li><li tabindex="0" data-start="10850" data-index="2">for quadrotors and micro aerial vehicles.</li><li tabindex="0" data-start="15120" data-index="3">The most important sensor in every aerial vehicle is a so called inertial measurement</li><li tabindex="0" data-start="18970" data-index="4">unit (IMU). That is a device that consist of accelerometers and gyroscopes to measure</li><li tabindex="0" data-start="24919" data-index="5">the inertial motion of the quadrotor and it's typically used for altitude stabilization.</li><li tabindex="0" data-start="33800" data-index="6">Range sensors are also important with that the ArDrone measures the distance from the</li><li tabindex="0" data-start="37070" data-index="7">floor and controls that. And then GPS of course is a very important</li><li tabindex="0" data-start="43010" data-index="8">sensor especially for flying outdoors. And cameras also are super important, for both,</li><li tabindex="0" data-start="49850" data-index="9">estimating the horizontal speed if you have an optical flow sensor looking downwards or</li><li tabindex="0" data-start="55330" data-index="10">for a forward camera to detect landmarks in the world.</li><li tabindex="0" data-start="60000" data-index="11">As I have said internal measurement units typically consists of accelerometers, and</li><li tabindex="0" data-start="65620" data-index="12">a single accelerometer measures the acceleration that is applied to the sensor. You can imagine</li><li tabindex="0" data-start="73700" data-index="13">such an accelerometer to look like a spring damper system in the easiest case. So you</li><li tabindex="0" data-start="78260" data-index="14">have a mass that is attached with a spring to a support structure, and when you accelerate this</li><li tabindex="0" data-start="85500" data-index="15">construction or this device in vertical direction then the mass will move up or down.</li><li tabindex="0" data-start="92900" data-index="16">By then measuring the deflection of the mass you can get a measurement of the acceleration</li><li tabindex="0" data-start="100200" data-index="17">that is applied to the sponsor.</li><li tabindex="0" data-start="103650" data-index="18">Of course such an accelerometer measures all accelerations that are applied to it.</li><li tabindex="0" data-start="108229" data-index="19">So if you have a vertical accelerometer then it will always measure the gravity.</li><li tabindex="0" data-start="113470" data-index="20">So you have to take probably care of gravitation when you estimating the accelerating forces.</li><li tabindex="0" data-start="124100" data-index="21">Gyroscopes measure the orientation if you have a standard gyroscope or they measure</li><li tabindex="0" data-start="129800" data-index="22">the angular velocity, which is then called a rate gyro. In such a case you need to integrate</li><li tabindex="0" data-start="135700" data-index="23">then the angular velocity to obtain the absolute angle.</li><li tabindex="0" data-start="139500" data-index="24">So in the simplest case for building a gyroscope you can use a spinning wheel that's rotating</li><li tabindex="0" data-start="147470" data-index="25">at a very high speed. And such a wheel is mounted with a gimbal</li><li tabindex="0" data-start="152900" data-index="26">device that is a device which can rotate 3D around it. Then the spinning wheel will keep</li><li tabindex="0" data-start="158650" data-index="27">its orientation no matter what you do to the case around it.</li><li tabindex="0" data-start="168599" data-index="28">And in this way by measuring the orientation of the wheel inside, with respect to the outer</li><li tabindex="0" data-start="176000" data-index="29">casing you can determine the orientation of yourself. Because the wheel will keep its</li><li tabindex="0" data-start="182040" data-index="30">orientation no matter what we do around it. Such things have been constructed by many</li><li tabindex="0" data-start="189100" data-index="31">people in the past and they can be used for example to measure the rotation of earth.</li><li tabindex="0" data-start="196200" data-index="32">But they are also used in this way in airplanes; for example, in old airplanes where you really have these</li><li tabindex="0" data-start="205600" data-index="33">spinning wheels and when you switch them on it also takes a while to reach their speed</li><li tabindex="0" data-start="212340" data-index="34">and you can even hear them when you listen carefully.</li><li tabindex="0" data-start="216519" data-index="35">Modern gyroscopes of course use different principles. Most common are MEMS sensors that</li><li tabindex="0" data-start="222519" data-index="36">have vibrating structures inside. Their measurement principle is then based on the Coriolis effect.</li><li tabindex="0" data-start="229600" data-index="37">So the vibration itself keeps its direction even if the sensor or the device is turned.</li><li tabindex="0" data-start="240959" data-index="38">And then again you can use capacitive sensing to see whether this structure gets closer</li><li tabindex="0" data-start="249540" data-index="39">or further away from the electrodes. And there are different types of such gyroscopes.</li><li tabindex="0" data-start="256159" data-index="40">The most common one is called the tuning fork gyroscope, where you just have something that's</li><li tabindex="0" data-start="261560" data-index="41">vibrating very quickly and keeps this position in a certain plane. And when you move or when</li><li tabindex="0" data-start="267280" data-index="42">the sensor is rotated then this tuning fork will keep its orientation and virtually be</li><li tabindex="0" data-start="274800" data-index="43">deflected with respect to the sensor itself.</li><li tabindex="0" data-start="278889" data-index="44">You also have sensors that contain vibrating wheels and there are also laser based systems,</li><li tabindex="0" data-start="286900" data-index="45">but typically not in this size class that is used for a quadrotor.</li><li tabindex="0" data-start="292430" data-index="46">Inertial measurements units, also abbreviated as IMUs now combine both gyroscopes and accelerometers.</li><li tabindex="0" data-start="299870" data-index="47">A single gyroscope is obviously not enough because it just measures the angular velocity</li><li tabindex="0" data-start="305949" data-index="48">in one direction or around one axis.</li><li tabindex="0" data-start="309100" data-index="49">This is why typically IMUs contain 3 gyroscopes next to each other, one for every axis.</li><li tabindex="0" data-start="319000" data-index="50">And the gyroscope by itself provides only an angular velocity so you need to integrate</li><li tabindex="0" data-start="325310" data-index="51">that over time to obtain the absolute angular position. But because the readings from the gyroscopes,</li><li tabindex="0" data-start="331800" data-index="52">especially from such small gyroscopes, will be very noisy the angular position will drift</li><li tabindex="0" data-start="339460" data-index="53">over time just because small errors over time will accumulate.</li><li tabindex="0" data-start="349500" data-index="54">This drift can be relatively small, for example, 1 degree per hour. On smaller quadrotors or</li><li tabindex="0" data-start="355080" data-index="55">if you have smaller gyroscopes then this can be even be 1 degree per second or 1 degree</li><li tabindex="0" data-start="360639" data-index="56">per minute, depending on the quality.</li><li tabindex="0" data-start="366220" data-index="57">Then there are also accelerometers in IMUs, again you need 3 of them to measure the acceleration</li><li tabindex="0" data-start="375270" data-index="58">in all 3 spatial directions. An accelerometer provides accelerations and it also measures</li><li tabindex="0" data-start="382400" data-index="59">of course the earth gravity.</li><li tabindex="0" data-start="388350" data-index="60">From there you can again then integrate your estimated speed and estimated position.</li><li tabindex="0" data-start="396100" data-index="61">This is usually done in an algorithm or in an implementation called IMU strapdown algorithm.</li><li tabindex="0" data-start="402030" data-index="62">You get the date from the accelerometers and the gyroscopes, may let's start with the bottom</li><li tabindex="0" data-start="407160" data-index="63">left. With the gyroscopes we're getting the angular rates in all 3 directions</li><li tabindex="0" data-start="415229" data-index="64">and then the first computational block here just integrates those to obtain the attitude</li><li tabindex="0" data-start="421150" data-index="65">just by adding them up.</li><li tabindex="0" data-start="423530" data-index="66">And when you have the attitude you know in which direction you will expect a gravitational</li><li tabindex="0" data-start="430600" data-index="67">force. So you can use that to compensate for gravity from the acceleration readings, which</li><li tabindex="0" data-start="437430" data-index="68">means that after this gravity compensation you have the pure acceleration that is applied</li><li tabindex="0" data-start="442110" data-index="69">to your IMU at the moment.</li><li tabindex="0" data-start="445050" data-index="70">When you integrate this acceleration then you obtain the velocity of the device, and when you integrate</li><li tabindex="0" data-start="450350" data-index="71">that again you get the position.</li><li tabindex="0" data-start="452319" data-index="72">It should be noted of course, that when you integrate twice such noisy readings then the result</li><li tabindex="0" data-start="461850" data-index="73">will be extremely noisy and extremely wrong. So the position integration of MEMS IMUs is</li><li tabindex="0" data-start="468759" data-index="74">not useful over longer periods of time. But you can usually get rather good predictions</li><li tabindex="0" data-start="475110" data-index="75">for the next 100ms maybe even up to 1 seconds or so, but after that it will be extremely inaccurate.</li><li tabindex="0" data-start="486000" data-index="76">The estimated acceleration after gravity compensation then typically run through a low pass filter</li><li tabindex="0" data-start="493500" data-index="77">to see if there is any acceleration remaining in a certain direction, and this is then usually</li><li tabindex="0" data-start="499789" data-index="78">because the attitude is not completely right. This can be compensated by estimating the</li><li tabindex="0" data-start="506900" data-index="79">bias of the gyroscope and then feeding it back into the attitude integration to compensate</li><li tabindex="0" data-start="513308" data-index="80">for such a bias over longer periods of time.</li><li tabindex="0" data-start="518399" data-index="81">GPS is also very important especially for flying outdoors. I guess most of you will</li><li tabindex="0" data-start="524850" data-index="82">know the GPS system, as this is the same as every smartphone uses.</li><li tabindex="0" data-start="530089" data-index="83">The idea is that you have many satellites circling earth and every satellite transmits</li><li tabindex="0" data-start="537069" data-index="84">its position and time.</li><li tabindex="0" data-start="539739" data-index="85">The receiver then receives these messages from the satellites and measures the time</li><li tabindex="0" data-start="548500" data-index="86">difference in the individual signals between the individual time steps from the satellites.</li><li tabindex="0" data-start="555900" data-index="87">Then by evaluating these differences the receiver can calculate the position on earth from these</li><li tabindex="0" data-start="564000" data-index="88">so called pseudoranges.</li><li tabindex="0" data-start="567540" data-index="89">There are a large number of satellites rotating around earth. Every satellite in the GPS-system</li><li tabindex="0" data-start="574800" data-index="90">has a 12 hour orbit, they are flying roughly in 20.000 km height. There are 6 orbital planes</li><li tabindex="0" data-start="582989" data-index="91">around earth and each of these planes has at least 4 satellites, typically much more.</li><li tabindex="0" data-start="589040" data-index="92">They are located roughly at 60 degrees distance of each other, depending on how many satellites you have.</li><li tabindex="0" data-start="599110" data-index="93">This ensures that there are always at least 4 satellites visible, typically much more.</li><li tabindex="0" data-start="605279" data-index="94">As I said, every satellite transmits its orbital location, the so called almanach and the current</li><li tabindex="0" data-start="612700" data-index="95">time. And because all satellites share the same frequency for transmission the transmission</li><li tabindex="0" data-start="621730" data-index="96">rate is extremely low. It is only 50 bits per second. And this message there transmitting</li><li tabindex="0" data-start="627339" data-index="97">has 1500 bits which is not much, but nevertheless, to transmit that it takes roughly 12.5 minutes.</li><li tabindex="0" data-start="635500" data-index="98">So this is why a cold start of the receiver takes a very long time before you get the first fix.</li><li tabindex="0" data-start="643500" data-index="99">GPS has 2 different modes of operation. The normal one that is used by the most smartphones</li><li tabindex="0" data-start="650579" data-index="100">is called the position from pseudorange mode. For that the GPS receiver needs to see at</li><li tabindex="0" data-start="656700" data-index="101">least 4 different satellites. It's 4 because the receiver has to estimate both, the current</li><li tabindex="0" data-start="663290" data-index="102">time and its position on earth. And the position on earth is a 3 dimensional</li><li tabindex="0" data-start="668269" data-index="103">vector depending on how you representing it, as longitude, latitude and elevation or simply</li><li tabindex="0" data-start="673980" data-index="104">as x,y,z with respect to some reference point. But this means that we have to compute at</li><li tabindex="0" data-start="682200" data-index="105">least 4 different values and for that we need 4 independent measurements.</li><li tabindex="0" data-start="688600" data-index="106">This first mode of operation is relatively inaccurate, typically you get positioning</li><li tabindex="0" data-start="694889" data-index="107">accuracy between 3 and 15 meters, depending on the equipment that you have, but also depending</li><li tabindex="0" data-start="699920" data-index="108">on the atmospheric conditions. But it gives you an absolute position on earth and this</li><li tabindex="0" data-start="706649" data-index="109">is very useful of course for navigation systems in cars, but also for airplanes and quadrotors.</li><li tabindex="0" data-start="717500" data-index="110">The other mode of operation requires an additional base station or reference station. And the</li><li tabindex="0" data-start="724239" data-index="111">idea then is to not only use the pseudoranges, but also to determine the exact phase shifts</li><li tabindex="0" data-start="731700" data-index="112">of the signal between the receiver and the base station.</li><li tabindex="0" data-start="739400" data-index="113">With that you can achieve extremely high accuracies typically far below 1 millimeter. But the</li><li tabindex="0" data-start="747799" data-index="114">position that you then getting is not absolute on earth but it is relative with respect to</li><li tabindex="0" data-start="752769" data-index="115">your reference station. Such systems are called real-time-kinematic-GPS</li><li tabindex="0" data-start="757629" data-index="116">or differential-GPS, and become more and more affordable and also smaller. Such that we</li><li tabindex="0" data-start="764249" data-index="117">can hope that they will sooner or later fit on our quadrotors.</li><li tabindex="0" data-start="769549" data-index="118">The next sensor that is relevant for us are</li><li tabindex="0" data-start="774209" data-index="119">range sensors, in particular ultrasound range sensors.</li><li tabindex="0" data-start="777480" data-index="120">The idea of most range sensors is to have an active sensor to emit a signal and measure</li><li tabindex="0" data-start="787759" data-index="121">the time the signal needs to return to the sender/receiver.</li><li tabindex="0" data-start="793779" data-index="122">And when we are talking here about ultrasound, then we are effectively using the propagation</li><li tabindex="0" data-start="800939" data-index="123">speed of ultrasound to determine then the distance between the sender/receiver and the object.</li><li tabindex="0" data-start="808189" data-index="124">So here for example we can see the sender/receiver it sends out the red waves. These waves</li><li tabindex="0" data-start="814779" data-index="125">are reflected by the object and then the receiver will here its echo.</li><li tabindex="0" data-start="822000" data-index="126">And this time measurement times the velocity divided by 2, because the signal has to traverse</li><li tabindex="0" data-start="832100" data-index="127">both the ways from left to right and then from right to left back again, gives directly the</li><li tabindex="0" data-start="835899" data-index="128">distance. So this is a very simple measurement principle</li><li tabindex="0" data-start="839000" data-index="129">and therefore it is very often used.</li><li tabindex="0" data-start="842079" data-index="130">The disadvantage of course at least of ultrasound is that the range is limited. So you can only</li><li tabindex="0" data-start="847369" data-index="131">do that up to a few meters, depending also on you surface it works less well on grass, it works</li><li tabindex="0" data-start="854700" data-index="132">better of course on things like stone or better reflecting surfaces.</li><li tabindex="0" data-start="861199" data-index="133">Another problem is that the opening angle of a speaker or microphone is whether large,</li><li tabindex="0" data-start="868400" data-index="134">so typically the beam that is send out has an opening angle around 20 to 40 degrees.</li><li tabindex="0" data-start="876100" data-index="135">And that means that it could also happen that you are measuring the distance to something else that's close</li><li tabindex="0" data-start="883500" data-index="136">to your sensor.</li><li tabindex="0" data-start="885779" data-index="137">And another problem of course is that the sensor doesn't work on certain objects that either</li><li tabindex="0" data-start="891809" data-index="138">absorb the sound or reflect it in a different way, but that the sound doesn't return to the receiver.</li><li tabindex="0" data-start="898540" data-index="139">But in any case the advantage here is that those sensors are extremely lightweight to</li><li tabindex="0" data-start="905019" data-index="140">build, a few grams, and extremely cheap so you can get them for a few Euros. Probably if</li><li tabindex="0" data-start="911179" data-index="141">you buy them in quantities they become even cheaper.</li><li tabindex="0" data-start="916529" data-index="142">Then the last, and form our perspective in the computer vision group of course the most</li><li tabindex="0" data-start="921759" data-index="143">interesting sensor is a camera. We have already seen in one of the previous videos how the pin-hole</li><li tabindex="0" data-start="929300" data-index="144">camera looks like from a mathematical perspective. The idea is you have the world, and the world emits</li><li tabindex="0" data-start="937329" data-index="145">some light because it is lit by the sun or by any other light source. And then the rays</li><li tabindex="0" data-start="942499" data-index="146">from the object pass through the pin-hole and then fall onto the film or light sensor,</li><li tabindex="0" data-start="949029" data-index="147">which is light sensitive and that we can read out then electronically.</li><li tabindex="0" data-start="955329" data-index="148">Of course, most cameras don't use the pin-hole idea, but have a lens that focuses the light</li><li tabindex="0" data-start="963809" data-index="149">on the film or sensor.</li><li tabindex="0" data-start="965000" data-index="150">The advantage here is that you have a larger aperture, which means that more light is passed</li><li tabindex="0" data-start="971259" data-index="151">on to the sensor. And that helps of course then during image acquisition.</li><li tabindex="0" data-start="977000" data-index="152">The disadvantage of using lenses is that they typically induce some radial distortion on</li><li tabindex="0" data-start="985000" data-index="153">the image. Depending on how expensive your lenses are this effect is stronger or less</li><li tabindex="0" data-start="992400" data-index="154">strong. It's in particular bad for lenses that have large opening angles. So typically</li><li tabindex="0" data-start="1000300" data-index="155">for webcams this is not a large problem, but if you getting maybe above a 100 degrees opening</li><li tabindex="0" data-start="1008000" data-index="156">angle, then these deviations become visible very strongly. And the larger it gets the worst it gets.</li><li tabindex="0" data-start="1018400" data-index="157">Typically you can see these deviations especially in the corners of the image.</li><li tabindex="0" data-start="1024290" data-index="158">So if you see lines in the images that are not straight any more then you know that you are probably dealing with lens distortions.</li><li tabindex="0" data-start="1036019" data-index="159">In most cases there are different cases for modelling these distortions. A very common</li><li tabindex="0" data-start="1043300" data-index="160">model is to use a low order polynomial to describe the deviation from the ideal image</li><li tabindex="0" data-start="1049019" data-index="161">and the observed image.</li><li tabindex="0" data-start="1051539" data-index="162">So in this case you have this r here, which refers to the radius or the distance of the</li><li tabindex="0" data-start="1057950" data-index="163">optical center of your camera or of your image. And then this coefficients Kappa_1 and Kappa_2</li><li tabindex="0" data-start="1065200" data-index="164">refer to how strong this deviation is on your lens.</li><li tabindex="0" data-start="1071039" data-index="165">So now for being able to use these camera models we of course need to determine all</li><li tabindex="0" data-start="1076960" data-index="166">the coefficients in the models. For the pin-hole model this means that we</li><li tabindex="0" data-start="1080990" data-index="167">need to determine the focal length f_x and f_y, and also the optical center c_x and c_y.</li><li tabindex="0" data-start="1088300" data-index="168">For the distortion model we need to know the coefficients Kappa_1 and Kappa_2 and possibly</li><li tabindex="0" data-start="1093750" data-index="169">even higher order distortion coefficients.</li><li tabindex="0" data-start="1096400" data-index="170">And then, of course the question is: how can we actually determine these parameters?</li><li tabindex="0" data-start="1101900" data-index="171">A very common method for doing that is to show a checkerboard to the camera and</li><li tabindex="0" data-start="1110000" data-index="172">use that to establish correspondences between 3D points in the world and 2D points on the image.</li><li tabindex="0" data-start="1116700" data-index="173">And from such a set of observations the coefficients of the camera model can then</li><li tabindex="0" data-start="1123200" data-index="174">be determined. So in general every observation between a</li><li tabindex="0" data-start="1128330" data-index="175">2D point and a 3D point produces two constraints,  one for the x axis in the image and one for the y axis in the image.</li><li tabindex="0" data-start="1135100" data-index="176">And then you can use that to solve for the</li><li tabindex="0" data-start="1140240" data-index="177">intrinsic parameters, like the focal length and the optical center, but also the distortion coefficients.</li><li tabindex="0" data-start="1145200" data-index="178">So the image in the lower left shows the calibration toolbox in ROS for monocular cameras.</li><li tabindex="0" data-start="1152300" data-index="179">You just show a checkerboard in different configurations and also at different parts of the image.</li><li tabindex="0" data-start="1160500" data-index="180">It's usually a good idea to hold it close to the image borders because as we have seen</li><li tabindex="0" data-start="1165850" data-index="181">before the distortion is the largest close to the image border.</li><li tabindex="0" data-start="1171190" data-index="182">When you have taken enough of these observations</li><li tabindex="0" data-start="1173830" data-index="183">you can calibrate all the coefficients. And then here on the right this has already happened.</li><li tabindex="0" data-start="1182800" data-index="184">You can recognize that because now all the lines in the image are actually straight</li><li tabindex="0" data-start="1188500" data-index="185">as they should be.</li><li tabindex="0" data-start="1190470" data-index="186">So to summarize the lesson of today:</li><li tabindex="0" data-start="1194789" data-index="187">We've looked at various sensors that can be used on quadrotors and micro aerial vehicles.</li><li tabindex="0" data-start="1200429" data-index="188">We've seen that IMUs can be used to measure attitude, the velocity and the position of the vehicle.</li><li tabindex="0" data-start="1207800" data-index="189">We looked at range sensors that can be used to measure distances.</li><li tabindex="0" data-start="1210800" data-index="190">And we've looked at GPS to measure the global position</li><li tabindex="0" data-start="1215000" data-index="191">of a quadrotor when flying outdoors. And then lastly, we have looked at real cameras</li><li tabindex="0" data-start="1222600" data-index="192">and how they can be calibrated to establish the correspondence between 3D points in the world</li><li tabindex="0" data-start="1229800" data-index="193"> and 2D observations on the image plane.</li><li tabindex="-1" style="height: 180px;" class="spacing"></li></ol>
